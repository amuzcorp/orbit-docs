export const metadata = {
  title: '엔티티 (Entities)',
  description:
    '엔티티는 CMS-Orbit에서 재사용 가능한 데이터 구조를 정의하는 방법입니다. 모델과 달리 데이터베이스 테이블을 생성하지 않고, 코드에서만 존재하는 데이터 구조를 정의할 수 있습니다.',
}

export const sections = [
  { title: '엔티티 생성하기', id: 'creating-entities' },
  { title: '엔티티와 모델의 차이점', id: 'entity-model-differences' },
  { title: '엔티티 예제', id: 'entity-example' },
  { title: '엔티티의 사용 사례', id: 'entity-use-cases' },
]

# 엔티티

엔티티는 애플리케이션의 핵심 비즈니스 객체입니다. 애플리케이션이 다루는 주요 개념과 데이터 구조를 나타냅니다.

## 주요 기능

- **식별자**: 각 엔티티는 고유한 식별자를 가짐
- **속성**: 엔티티의 특성을 정의
- **동작**: 다른 엔티티와의 상호작용 정의
- **생명주기**: 엔티티의 상태 관리

## 예시

```typescript
// 엔티티 정의 예시
interface ProductEntity {
  id: string;
  name: string;
  description: string;
  price: number;
  category: string;
  stock: number;
  
  // 메서드
  updateStock(quantity: number): void;
  isInStock(): boolean;
  calculateDiscount(percentage: number): number;
}
```

## 모범 사례

1. 엔티티를 비즈니스 로직에 집중
2. 적절한 유효성 검사 구현
3. 적절한 디자인 패턴 사용
4. 엔티티 간 명확한 경계 유지

## 엔티티 생성하기

엔티티를 생성하는 가장 간단한 방법은 `cms:entity` 아티즌 명령어를 사용하는 것입니다:

```bash {{ title: '엔티티 생성 명령어' }}
php artisan cms:entity Category
```

이 명령어는 `app/Entities/Category.php` 파일을 생성합니다.

## 엔티티와 모델의 차이점

엔티티와 모델의 주요 차이점은 다음과 같습니다:

| 특징 | 엔티티 | 모델 |
|------|--------|------|
| 데이터베이스 테이블 | 없음 | 있음 |
| 마이그레이션 | 없음 | 있음 |
| Orchid 리소스 | 없음 | 있음 |
| 데이터 저장 | 메모리 | 데이터베이스 |
| 사용 용도 | 임시 데이터 구조 | 영구 데이터 구조 |

## 엔티티 예제

다음은 카테고리 엔티티의 예제입니다:

```php {{ title: '카테고리 엔티티 예제' }}
<?php

namespace App\Entities;

use Illuminate\Support\Collection;

class Category
{
    public function __construct(
        public string $name,
        public string $slug,
        public ?string $description = null,
        public ?int $parent_id = null,
        public ?Collection $children = null
    ) {}

    public static function make(array $attributes): self
    {
        return new self(
            name: $attributes['name'],
            slug: $attributes['slug'],
            description: $attributes['description'] ?? null,
            parent_id: $attributes['parent_id'] ?? null,
            children: $attributes['children'] ?? null
        );
    }
}
```

## 엔티티의 사용 사례

엔티티는 다음과 같은 상황에서 유용합니다:

1. **카테고리 관리**: 계층적 카테고리 구조를 정의할 때
2. **태그 시스템**: 태그 데이터 구조를 정의할 때
3. **설정 관리**: 애플리케이션 설정을 구조화할 때
4. **임시 데이터**: 일시적인 데이터 구조가 필요할 때

<div className="not-prose">
  <Button href="/core-concepts/documents" variant="text" arrow="right">
    <>문서 개념 알아보기</>
  </Button>
</div> 