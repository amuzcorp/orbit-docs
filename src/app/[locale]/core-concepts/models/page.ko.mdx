export const metadata = {
  title: '모델 (Models)',
  description:
    '모델은 CMS-Orbit에서 데이터 구조를 정의하는 기본 단위입니다. Orchid의 AsSource, Filterable, Attachable 트레이트를 활용하여 강력한 데이터 관리 기능을 제공합니다.',
}

export const sections = [
  { title: '모델 생성하기', id: 'creating-models' },
  { title: '기본 모델 구조', id: 'basic-model-structure' },
  { title: '모델의 주요 특징', id: 'model-features' },
  { title: '모델과 리소스의 관계', id: 'model-resource-relationship' },
]

# 모델

모델은 데이터의 구조와 동작을 정의합니다. 애플리케이션의 데이터 계층의 기반이 됩니다.

## 주요 개념

- **스키마 정의**: 데이터 구조 정의
- **유효성 검사 규칙**: 데이터 무결성 보장
- **관계**: 모델 간의 연결 정의
- **메서드**: 모델에 사용자 정의 동작 추가

## 예시

```typescript
// 모델 정의 예시
interface UserModel {
  id: string;
  name: string;
  email: string;
  role: 'admin' | 'user';
  createdAt: Date;
  updatedAt: Date;
  
  // 메서드
  isAdmin(): boolean;
  updateProfile(data: Partial<UserModel>): Promise<void>;
}
```

## 모범 사례

1. 모델을 집중적이고 단일 목적으로 유지
2. 적절한 유효성 검사 사용
3. 명확한 관계 정의
4. 적절한 오류 처리 구현

## 모델 생성하기

모델을 생성하는 가장 간단한 방법은 `cms:model` 아티즌 명령어를 사용하는 것입니다:

```bash {{ title: '모델 생성 명령어' }}
php artisan cms:model Post
```

이 명령어는 다음과 같은 파일들을 자동으로 생성합니다:

- `app/Models/Post.php`: 모델 클래스
- `app/Orchid/Resources/PostResource.php`: Orchid 리소스
- `database/migrations/[timestamp]_create_posts_table.php`: 마이그레이션 파일

## 기본 모델 구조

생성된 모델 클래스는 다음과 같은 기본 구조를 가집니다:

```php {{ title: '기본 모델 클래스' }}
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use Orchid\Attachment\Attachable;
use Orchid\Filters\Filterable;
use Orchid\Screen\AsSource;

class Post extends Model
{
    use AsSource, Filterable, Attachable;

    protected $fillable = [
        'title',
        'content',
        'status',
    ];

    protected $casts = [
        'status' => 'boolean',
    ];
}
```

## 모델의 주요 특징

CMS-Orbit의 모델은 다음과 같은 강력한 기능을 제공합니다:

1. **AsSource**: Orchid 관리자 패널에서 데이터를 표시하기 위한 트레이트
2. **Filterable**: 데이터 필터링 기능을 제공하는 트레이트
3. **Attachable**: 파일 첨부 기능을 제공하는 트레이트

## 모델과 리소스의 관계

모델은 Orchid 리소스와 함께 작동하여 관리자 패널에서 데이터를 관리할 수 있게 합니다:

```php {{ title: 'Orchid 리소스 예제' }}
<?php

namespace App\Orchid\Resources;

use App\Models\Post;
use Orchid\Crud\Resource;
use Orchid\Screen\Fields\Input;
use Orchid\Screen\Fields\TextArea;

class PostResource extends Resource
{
    public $model = Post::class;

    public function fields(): array
    {
        return [
            Input::make('title')
                ->title('제목')
                ->required(),
                
            TextArea::make('content')
                ->title('내용')
                ->required(),
        ];
    }
}
```

<div className="not-prose">
  <Button href="/core-concepts/entities" variant="text" arrow="right">
    <>엔티티 개념 알아보기</>
  </Button>
</div> 