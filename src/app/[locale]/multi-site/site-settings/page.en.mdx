# Site Settings

This guide explains how to configure site settings.

## Setting Areas

- **General Settings**: Basic site information
- **Domain Settings**: Domain and SSL configuration
- **Database Settings**: Database connection settings
- **Cache Settings**: Cache and performance settings
- **Mail Settings**: Email service configuration

## Configuration Methods

### 1. General Settings

```php {{ title: 'General Settings' }}
use Orbit\Tenancy\Tenant;

$tenant = Tenant::find('site-a');

// Basic settings
$tenant->settings()->set([
    'app_name' => 'Site A',
    'app_url' => 'https://site-a.example.com',
    'timezone' => 'UTC',
    'locale' => 'en',
    'debug' => false,
]);
```

### 2. Domain Settings

```php {{ title: 'Domain Settings' }}
// config/tenancy.php
return [
    'domains' => [
        'enabled' => true,
        'default' => 'example.com',
        'ssl' => [
            'enabled' => true,
            'force' => true,
            'hsts' => [
                'enabled' => true,
                'max_age' => 31536000,
                'include_subdomains' => true,
            ],
        ],
    ],
];
```

### 3. Database Settings

```php {{ title: 'Database Settings' }}
// config/tenancy.php
return [
    'database' => [
        'tenant' => [
            'driver' => 'mysql',
            'host' => env('DB_HOST', '127.0.0.1'),
            'port' => env('DB_PORT', '3306'),
            'database' => null, // Set dynamically
            'username' => env('DB_USERNAME', 'forge'),
            'password' => env('DB_PASSWORD', ''),
            'charset' => 'utf8mb4',
            'collation' => 'utf8mb4_unicode_ci',
            'prefix' => '',
        ],
    ],
];
```

### 4. Cache Settings

```php {{ title: 'Cache Settings' }}
// config/tenancy.php
return [
    'cache' => [
        'driver' => 'redis',
        'connection' => 'tenant',
        'prefix' => 'tenant_',
        'ttl' => 3600,
        'tags' => [
            'enabled' => true,
            'prefix' => 'tenant_',
        ],
    ],
];
```

### 5. Mail Settings

```php {{ title: 'Mail Settings' }}
// config/tenancy.php
return [
    'mail' => [
        'driver' => 'smtp',
        'host' => env('MAIL_HOST', 'smtp.mailgun.org'),
        'port' => env('MAIL_PORT', 587),
        'username' => env('MAIL_USERNAME'),
        'password' => env('MAIL_PASSWORD'),
        'encryption' => env('MAIL_ENCRYPTION', 'tls'),
        'from' => [
            'address' => 'noreply@site-a.example.com',
            'name' => 'Site A',
        ],
    ],
];
```

## Setting Commands

```bash {{ title: 'Setting Commands' }}
# Check settings
php artisan tenancy:settings site-a

# Update settings
php artisan tenancy:settings site-a --key=app_name --value="New Site Name"

# Reset settings
php artisan tenancy:settings-reset site-a
```

## Best Practices

1. Regular settings backup
2. Periodic review of security settings
3. Cache settings for performance optimization
4. Automatic SSL certificate renewal
5. Test settings changes in a test environment first

<div className="not-prose">
  <Button href="/multi-site/security" variant="text" arrow="right">
    <>Configure Security</>
  </Button>
</div> 